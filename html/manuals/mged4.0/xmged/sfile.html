<title>Startup File</title>

<h1><a name="startup file">Startup File</a></h1>

<h2>General Information</h2>

There exists a startup file that is associated with the X display manager.
The <a href="environment.html#xmgedrc">XMGEDRC</a>
environment variable defines this file which is read in during
the initialization process.

<p>
The startup file provides for the specification of menus, key bindings,
mouse button bindings, dial bindings and button box bindings. The contents
of each specification is enclosed within curly braces. All of the specifications
begin with a keyword. and in the case of a menu specification, the keyword is
followed by a string. A string is defined as a series of one or more characters
surrounded by double quotes. The body of the string starts out with an optional
exclamation point followed by a letter. The rest of the string can be any
character except a double quote or a newline. The following regular expression
more succinctly defines the set of allowable strings.

<p>
<pre>
                    !?[a-zA-Z][^\"\n]*
</pre>

<h2>User Menus</h2>

The menu specification is similar to that found in a .twmrc file. A menu can be
defined anywhere and in any order within the startup file. Listed below is a
generalized menu specification.

<p>
<pre>
               menu string
               {
                  string1           action1 
                    ...               ...
                  stringN           actionN 
               }
</pre>

<p>
There are five keywords associated with a menu
specification. They are <i>menu, f.title, f.separator, f.menu</i>, and
<i>f.exec</i>. The <i>menu</i>
keyword is used to begin the definition and is followed by a string that names
the menu. The other keywords are functions/actions. <i>F.title</i> creates a title in the menu.
<i>F.separator</i> places a line in the menu. <i>F.exec</i>
and the `!' character are both
followed by a shell command that is executed when selected. And finally, <i>f.menu</i>
references a submenu and is followed by the name of the submenu.

<p>
Submenus can be used in more than one menu. It should be noted that submenus can
also have submenus and that there is no software limit within xmged to how deep
they can go. However, if an infinite loop is detected, the corresponding menu
button will be made insensitive.
Top level menus are menus that are not referenced within
another menu. They will be given buttons in the menu bar and will be labelled
with the menu name.

<p>
The contents of the menu consists of two columns of information. The first column
contains the button labels, while the second contains a specification of some
action to be taken. The action is either a function keyword possibly followed
by a string, or an optional `!' followed by a string. If a string is specified
by itself in the right column, it is interpreted by mged. The following is a
sample menu:

<p>
<pre>
         menu "main"
         {
            "The Main Menu"         f.title
            ""                      f.separator
            "another menu"          f.menu "menu1"
            "shell ls"              f.exec "ls"
            "shell ls"              !"ls"
            "mged ls"               "ls"
         }

         menu "menu1"
         {
            "user defined command"  "buildtank"
            "exit"                  "q"
         }
</pre>

<p>
In the sample menu, <i>main</i> is a toplevel menu, while <i>menu1</i> is a submenu. The
toplevel menu illustrates the different kinds of menu items that can be created
and will be given a button labelled <i>main</i> in the menu bar.

<h2><a name="key binding">Key Binding</a></h2>
A key can be bound to an arbitrary command. These key bindings take effect only
within a drawing window or the input window. That is, if key <i>z</i> is bound to the
command <i>zoom 0.5</i>, then pressing <i>z</i> while in the drawing window will execute
<i>zoom 0.5</i>.

<p>
The keyword <i>Keys</i> is used to begin the specification of key bindings. Listed below
is a generalized key binding specification. There are two columns of information;
one for the keysym and one for the command. A keysym is a machine independent
symbolic representation of a key. To view the supported keysyms see the
<a href="keysym.html">Keysym List</a>.
Keys can also be bound using the
<a href="commands.html#bindkey">bindkey</a> command. 
Also, see the <a href="sdef.html#def_keys">Startup Defaults</a> section
for a list of the default key bindings.

<p>
<pre>
                Keys
                {
                   keysym1   string1 
                     ...       ... 
                   keysymN   stringN
                }
</pre>

<h2>Mouse Button Binding</h2>
The keyword <i>Buttons</i> is used to begin the specification of the mouse button bindings.
Listed below is a generalized mouse button binding specification. There are three
columns of information. The first of which specifies the mouse button. There are
three keywords for denoting a particular mouse button and they are
<i>Button1, Button2</i> and <i>Button3</i>.
The last two columns specify the mode and function.

<p>
<pre>
         Buttons
         {
            button1        mode1        function1 
              ...           ...            ... 
            buttonN        modeN        functionN
         }
</pre>

<p>
For the purpose of binding mouse buttons, there are four different modes. The
mouse buttons can be bound to one of three functions for each mode. Below is a
list of the modes along with three possible functions for each.

<p>
<pre>
         view            inzoom, outzoom, slew
         alt             translate, rotate, zoom
         swap            getview, putview, swapview
         edit            inzoom, outzoom, pick
</pre>

<p>
Each of these is also a keyword.
The <a href="buttons.html#alt mouse mode">alt mode</a>
can only be active while in the VIEW state or an EDIT state.
The <i>view</i> and
<a href="buttons.html#swap views">swap</a> modes are only active when xmged
is in the VIEW state. Otherwise, the <i>edit</i> mode bindings take effect. See the
<a href="sdef.html#def_buttons">Startup Defaults</a> section
for a list of the default mouse button bindings.

<h2>Dial Binding</h2>
The dials can also be rebound. The <i>Dials</i> keyword begins the specification of
the dial bindings. Listed below is a generalized dial binding specification.

<p>
<pre>
         Dials
         {
            dial1        [shift]     function1 
             ...           ...          ... 
            dialn        [shift]     functionn
         }
</pre>

<p>
There are two or three columns of information. The first column denotes the dial.
There are eight keywords used for referencing a dial and they are <i>Dial0, Dial1,
..., Dial7</i>. The <i>Shift</i> keyword if used, is in the second column
and indicates that
the shift key is being held down. The last column is reserved for the function
specifier. The table below shows a list of thirteen function specifiers along with
a brief description of each. See the
<a href="sdef.html#def_dials">Startup Defaults</a> section
for a list of the default dial bindings.

<p>
<pre>
<h2>                  Function                      Description</h2>
        NONE              no action  
        XJOY              x rotation 
        YJOY              y rotation 
        ZJOY              z rotation 
        XSLEW             x translation 
        YSLEW             y translation 
        ZSLEW             z translation 
        ZOOM              zoom view in or out 
        ADC1              rotate angle 1 
        ADC2              rotate angle 2 
        ADCX              x translation of angle
                          distance cursor 
        ADCY              y translation of angle
                          distance cursor 
        ADCDIST           move tick marks 
</pre>

<h2>Button Box Binding</h2>
A button box button can be bound to an arbitrary command. The <i>BBox</i> keyword begins
the button box bindings specification. Below is a generalized button box binding
specification.

<p>
<pre>
               BBox
               {
                   button1     string1
                     ...         ...
                   buttonN     stringN
               }
</pre>

There are two columns of information. The first refers to the button. There
are 32 keywords for referencing the button. They are <i>Button1, Button2, ...,
Button32</i>. The second column indicates the command. See the
<a href="sdef.html#def_bbox">Startup Defaults</a> section for a list
of the default button box bindings.
<hr>
<a href="xmged.html">up</a>
<a href="starter.html">prev</a>
<a href="mda.html">next</a>

