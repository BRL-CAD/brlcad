# Inherit the parent CMake setting
set(CURRENT_SOURCE_DIR @CMAKE_CURRENT_SOURCE_DIR@)
set(CURRENT_BINARY_DIR @CMAKE_CURRENT_BINARY_DIR@)

# Define a variety of convenience routines
include(@PROJECT_CMAKE_DIR@/Generated_Source_Utils.cmake)

# The following steps are executed to sync generated sources:
#
# 1.  Create a new verification_info.cmake file and populate
#     it with the MD5 sums for current files.
#
# 2.  Overwrite the original cached verification_info.cmake
#     and generated files with the new ones.  If LOCKED_SOURCE_DIR
#     is ON, this step will not be carried out - instead, an
#     informational message with manual updating instructions
#     will be printed.

set(new_info_file "${CURRENT_BINARY_DIR}/verification_info.cmake")


file(WRITE ${new_info_file} "# Autogenerated verification information\n")

# Handle input files
set(input_files "@MD5_FILELIST@")
WRITE_MD5_SUMS("${input_files}" "${new_info_file}")

message("New verification file created: ${new_info_file}")

# Local Variables:
# tab-width: 8
# mode: cmake
# indent-tabs-mode: t
# End:
# ex: shiftwidth=2 tabstop=8
